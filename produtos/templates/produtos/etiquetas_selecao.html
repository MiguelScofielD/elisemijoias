{% extends "base.html" %}
{% block title %}Etiquetas de Produtos{% endblock %}

{% block content %}
<h1 class="mb-4">Etiquetas de Produtos</h1>

<form method="post" action="{% url 'produtos:gerar_etiquetas' %}">
    {% csrf_token %}

    <table class="table table-bordered align-middle">
        <thead class="table-light">
            <tr>
                <th style="width:80px;">Selecionar</th>
                <th style="width:120px;">Imagem</th>
                <th>Produto</th>
                <th style="width:200px;">Quantidade de etiquetas</th>
            </tr>
        </thead>
        <tbody>
            {% for produto in produtos %}
            <tr>
                <!-- CHECKBOX -->
                <td class="text-center">
                    <input type="checkbox" name="produto" value="{{ produto.id }}">
                </td>

                <!-- IMAGEM -->
                <td class="text-center">
                    {% if produto.imagem %}
                        <img
                            src="{{ produto.imagem.url }}"
                            alt="{{ produto.nome }}"
                            style="width:80px;height:80px;object-fit:cover;border-radius:6px;"
                        >
                    {% else %}
                        <span class="text-muted small">
                            Sem imagem
                        </span>
                    {% endif %}
                </td>

                <!-- NOME -->
                <td>
                    <strong>{{ produto.nome }}</strong>
                </td>

                <!-- QUANTIDADE -->
                <td>
                    <input
                        type="number"
                        name="quantidade_{{ produto.id }}"
                        value="1"
                        min="1"
                        class="form-control"
                        style="width:120px"
                    >
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <button class="btn btn-success">
        Gerar Etiquetas
    </button>
</form>
{% endblock %}
